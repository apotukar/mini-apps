{% extends "layout.njk" %}

{% set style = "common, news" %}

{% block title %}News{% endblock %}

{% block content %}

  <h2>News</h2>

  <form method="get" action="/news">
    <label for="proxy">Proxy:</label>

    <select id="proxy" name="proxy">
      <option value="" {% if not currentProxy %}selected{% endif %}>
        Kein Proxy
      </option>

      {% for p in proxies %}
        <option value="{{ p.link }}"
          {% if p.link == currentProxy %}selected{% endif %}>
          {{ p.description }}
        </option>
      {% endfor %}
    </select>

    <button type="submit">Links neu laden</button>
  </form>


  <br

  <ul>
    {% for item in items %}
      <li class="source-{{ item.source | lower | replace(' ', '-') }}">
        <a href="{{ item.link }}">{{ item.title }}</a><br>
        {% if item.date %}
          <small>{{ item.date | formatDateTime }}</small><br>
        {% endif %}
        {% if item.description %}
          <small>{{ item.description | safe }}</small>
        {% endif %}
        <span class="source-label">{{ item.source }}</span>
      </li>
    {% endfor %}
  </ul>

  <p class="hint">
  Vereinfachte Darstellung der Schlagzeilen aus mehreren Quellen.
  </p>

{% endblock %}
